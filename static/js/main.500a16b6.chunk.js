(this.webpackJsonpinternal=this.webpackJsonpinternal||[]).push([[0],{380:function(e,n,t){},571:function(e,n,t){"use strict";t.r(n);t(321);var a,i,l=t(123),o=t(6),r=t.n(o),c=t(179),u=t.n(c),d=t(171),s=t(311),p=t(22),b=(t(380),t(629)),j=t(616),m=t(312),g=t(597),v=t(369),y=t(246),f=t(99),O=t(630),h=t(618),x=t(598),S=t(596),I=t(39),T="\n// Here we can initialize the value of the Aggregation result.\nconst result = {\n};\n\n// This function will be called by every action that was sent to notification server\n// to update the result with its values.\nconst aggregate = (action) => {\n\n    return result;\n};\n".trimLeft(),E=t(599),C=t(600),R=t(622),_=t(624),w=t(275),A=t(212),k=t(620),B=t(602),P=t(625),N=t(603),L=t(626),M=t(604),V=t(623),G=t(601),q=t(605),D=t(619),U=t(606),F=t(617),H=t(106),z=t(25);!function(e){e.Application=n(),e.AtomicLong=t(),e.BasicAuthentication=a(),e.BehaviorGroup=z.e({actions:z.a(i()).optional().nullable(),bundle:o().optional().nullable(),bundle_id:T(),created:z.g().optional().nullable(),display_name:z.g(),id:T().optional().nullable(),updated:z.g().optional().nullable()}).nonstrict(),e.BehaviorGroupAction=i(),e.BehaviorGroupActionId=l(),e.Bundle=o(),e.CamelProperties=r(),e.CurrentStatus=z.e({end_time:z.g().optional().nullable(),start_time:z.g().optional().nullable(),status:S()}).nonstrict(),e.EmailSubscriptionProperties=c(),e.EmailSubscriptionType=z.c(["DAILY","INSTANT"]),e.Endpoint=u(),e.EndpointPage=z.e({data:z.a(u()),links:z.f(z.g()),meta:v()}).nonstrict(),e.EndpointProperties=z.i(),e.EndpointType=d(),e.EntityTag=s(),e.EventType=z.e({application:n().optional().nullable(),application_id:T(),description:z.g().optional().nullable(),display_name:z.g(),id:T().optional().nullable(),name:z.g()}).nonstrict(),e.Facet=z.e({displayName:z.g(),id:z.g(),name:z.g()}).nonstrict(),e.Family=p(),e.HttpType=b(),e.Link=j(),e.Locale=m(),e.MediaType=g(),e.Meta=v(),e.MigrationReport=z.e({deletedEndpoints:t().optional().nullable(),durationInMs:t().optional().nullable(),updatedAccounts:t().optional().nullable(),updatedBehaviorGroupActions:t().optional().nullable()}).nonstrict(),e.MultivaluedMapStringObject=y(),e.MultivaluedMapStringString=f(),e.NewCookie=O(),e.NotificationHistory=z.e({created:z.g().optional().nullable(),details:z.f(z.i()).optional().nullable(),endpointId:T().optional().nullable(),eventId:z.g().optional().nullable(),id:T().optional().nullable(),invocationResult:z.b(),invocationTime:z.d().int()}).nonstrict(),e.PageRbacGroup=z.e({data:z.a(h()),links:z.f(z.g()),meta:v()}).nonstrict(),e.PageRbacUser=z.e({data:z.a(x()),links:z.f(z.g()),meta:v()}).nonstrict(),e.RbacGroup=h(),e.RbacRaw=z.e({data:z.a(z.f(z.i())).optional().nullable(),links:z.f(z.g()).optional().nullable(),meta:z.f(z.d().int()).optional().nullable()}).nonstrict(),e.RbacUser=x(),e.RenderEmailTemplateRequest=z.e({body_template:z.g(),payload:z.g(),subject_template:z.g()}).nonstrict(),e.RequestEmailSubscriptionProperties=z.e({onlyAdmins:z.b()}).nonstrict(),e.Response=z.e({allowedMethods:z.a(z.g()).optional().nullable(),cookies:z.f(O()).optional().nullable(),date:z.g().optional().nullable(),entity:z.i().optional().nullable(),entityTag:s().optional().nullable(),headers:y().optional().nullable(),language:m().optional().nullable(),lastModified:z.g().optional().nullable(),length:z.d().int().optional().nullable(),links:z.a(j()).optional().nullable(),location:z.g().optional().nullable(),mediaType:g().optional().nullable(),metadata:y().optional().nullable(),status:z.d().int().optional().nullable(),statusInfo:I().optional().nullable(),stringHeaders:f().optional().nullable()}).nonstrict(),e.Status=S(),e.StatusType=I(),e.UUID=T(),e.UriBuilder=E(),e.WebhookProperties=C(),e.__Empty=z.g().max(0).optional();function n(){return z.e({bundle_id:T(),created:z.g().optional().nullable(),display_name:z.g(),id:T().optional().nullable(),name:z.g(),updated:z.g().optional().nullable()}).nonstrict()}function t(){return z.e({acquire:z.d().int().optional().nullable(),andDecrement:z.d().int().optional().nullable(),andIncrement:z.d().int().optional().nullable(),opaque:z.d().int().optional().nullable(),plain:z.d().int().optional().nullable(),release:z.d().int().optional().nullable(),value:z.d().int().optional().nullable()}).nonstrict()}function a(){return z.e({password:z.g().optional().nullable(),username:z.g().optional().nullable()}).nonstrict()}function i(){return z.e({created:z.g().optional().nullable(),endpoint:u().optional().nullable(),id:l().optional().nullable()}).nonstrict()}function l(){return z.e({behaviorGroupId:T(),endpointId:T()}).nonstrict()}function o(){return z.e({created:z.g().optional().nullable(),display_name:z.g(),id:T().optional().nullable(),name:z.g(),updated:z.g().optional().nullable()}).nonstrict()}function r(){return z.e({basic_authentication:a().optional().nullable(),disable_ssl_verification:z.b(),extras:z.f(z.g()).optional().nullable(),secret_token:z.g().optional().nullable(),sub_type:z.g().optional().nullable(),url:z.g()}).nonstrict()}function c(){return z.e({group_id:T().optional().nullable(),ignore_preferences:z.b(),only_admins:z.b()}).nonstrict()}function u(){return z.e({created:z.g().optional().nullable(),description:z.g(),enabled:z.b().optional().nullable(),id:T().optional().nullable(),name:z.g(),properties:z.h([C(),c(),r()]).optional().nullable(),type:d(),updated:z.g().optional().nullable()}).nonstrict()}function d(){return z.c(["webhook","email_subscription","default","camel"])}function s(){return z.e({value:z.g().optional().nullable(),weak:z.b().optional().nullable()}).nonstrict()}function p(){return z.c(["CLIENT_ERROR","INFORMATIONAL","OTHER","REDIRECTION","SERVER_ERROR","SUCCESSFUL"])}function b(){return z.c(["GET","POST","PUT"])}function j(){return z.e({params:z.f(z.g()).optional().nullable(),rel:z.g().optional().nullable(),rels:z.a(z.g()).optional().nullable(),title:z.g().optional().nullable(),type:z.g().optional().nullable(),uri:z.g().optional().nullable(),uriBuilder:E().optional().nullable()}).nonstrict()}function m(){return z.e({country:z.g().optional().nullable(),displayCountry:z.g().optional().nullable(),displayLanguage:z.g().optional().nullable(),displayName:z.g().optional().nullable(),displayScript:z.g().optional().nullable(),displayVariant:z.g().optional().nullable(),extensionKeys:z.a(z.g()).optional().nullable(),iSO3Country:z.g().optional().nullable(),iSO3Language:z.g().optional().nullable(),language:z.g().optional().nullable(),script:z.g().optional().nullable(),unicodeLocaleAttributes:z.a(z.g()).optional().nullable(),unicodeLocaleKeys:z.a(z.g()).optional().nullable(),variant:z.g().optional().nullable()}).nonstrict()}function g(){return z.e({parameters:z.f(z.g()).optional().nullable(),subtype:z.g().optional().nullable(),type:z.g().optional().nullable(),wildcardSubtype:z.b().optional().nullable(),wildcardType:z.b().optional().nullable()}).nonstrict()}function v(){return z.e({count:z.d().int()}).nonstrict()}function y(){return z.f(z.a(z.i()))}function f(){return z.f(z.a(z.g()))}function O(){return z.e({comment:z.g().optional().nullable(),domain:z.g().optional().nullable(),expiry:z.g().optional().nullable(),httpOnly:z.b().optional().nullable(),maxAge:z.d().int().optional().nullable(),name:z.g().optional().nullable(),path:z.g().optional().nullable(),secure:z.b().optional().nullable(),value:z.g().optional().nullable(),version:z.d().int().optional().nullable()}).nonstrict()}function h(){return z.e({created:z.g().optional().nullable(),description:z.g().optional().nullable(),modified:z.g().optional().nullable(),name:z.g().optional().nullable(),platform_default:z.b().optional().nullable(),principalCount:z.d().int().optional().nullable(),roleCount:z.d().int().optional().nullable(),system:z.b().optional().nullable(),uuid:T().optional().nullable()}).nonstrict()}function x(){return z.e({active:z.b().optional().nullable(),email:z.g().optional().nullable(),firstName:z.g().optional().nullable(),isActive:z.b().optional().nullable(),isOrgAdmin:z.b().optional().nullable(),lastName:z.g().optional().nullable(),orgAdmin:z.b().optional().nullable(),username:z.g().optional().nullable()}).nonstrict()}function S(){return z.c(["MAINTENANCE","UP"])}function I(){return z.e({family:p().optional().nullable(),reasonPhrase:z.g().optional().nullable(),statusCode:z.d().int().optional().nullable()}).nonstrict()}function T(){return z.g()}function E(){return z.i()}function C(){return z.e({basic_authentication:a().optional().nullable(),disable_ssl_verification:z.b(),method:b(),secret_token:z.g().optional().nullable(),url:z.g()}).nonstrict()}}(a||(a={})),function(e){var n,t,i,o,r,c,u,d,s,p,b,j,m,g,v,y,f,O,h,x,S,I;(n||(n=e.InternalServiceHttpRoot||(e.InternalServiceHttpRoot={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./").queryParams({}).config({rules:[new H.ValidateRule(a.__Empty,"__Empty",204)]}).build()},i=t||(t=e.AdminServiceDebugRbac||(e.AdminServiceDebugRbac={})),z.g(),i.actionCreator=function(e){var n={};return void 0!==e.rhid&&(n.rhid=e.rhid),Object(l.actionBuilder)("GET","./admin").queryParams(n).config({rules:[new H.ValidateRule(a.Response,"Response",200)]}).build()},r=o||(o=e.AdminServiceSetAdminDown||(e.AdminServiceSetAdminDown={})),z.g(),r.actionCreator=function(e){var n={};return void 0!==e.status&&(n.status=e.status),Object(l.actionBuilder)("POST","./admin/status").queryParams(n).config({rules:[new H.ValidateRule(a.__Empty,"__Empty",200)]}).build()},(c||(c=e.InternalServiceCreateApplication||(e.InternalServiceCreateApplication={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./applications").queryParams({}).data(e.body).config({rules:[new H.ValidateRule(a.Application,"Application",200)]}).build()},(u||(u=e.InternalServiceGetApplication||(e.InternalServiceGetApplication={}))).actionCreator=function(e){var n="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",n).queryParams({}).config({rules:[new H.ValidateRule(a.Application,"Application",200)]}).build()},(d||(d=e.InternalServiceUpdateApplication||(e.InternalServiceUpdateApplication={}))).actionCreator=function(e){var n="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("PUT",n).queryParams({}).data(e.body).config({rules:[new H.ValidateRule(a.Response,"Response",200)]}).build()},function(e){var n=z.b();e.actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("DELETE",t).queryParams({}).config({rules:[new H.ValidateRule(n,"unknown",200)]}).build()}}(s||(s=e.InternalServiceDeleteApplication||(e.InternalServiceDeleteApplication={}))),function(e){var n=z.a(a.EventType);e.actionCreator=function(e){var t="./applications/{appId}/eventTypes".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new H.ValidateRule(n,"unknown",200)]}).build()}}(p||(p=e.InternalServiceGetEventTypes||(e.InternalServiceGetEventTypes={}))),function(e){var n=z.a(a.Bundle);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./bundles").queryParams({}).config({rules:[new H.ValidateRule(n,"unknown",200)]}).build()}}(b||(b=e.InternalServiceGetBundles||(e.InternalServiceGetBundles={}))),(j||(j=e.InternalServiceCreateBundle||(e.InternalServiceCreateBundle={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./bundles").queryParams({}).data(e.body).config({rules:[new H.ValidateRule(a.Bundle,"Bundle",200)]}).build()},(m||(m=e.InternalServiceGetBundle||(e.InternalServiceGetBundle={}))).actionCreator=function(e){var n="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",n).queryParams({}).config({rules:[new H.ValidateRule(a.Bundle,"Bundle",200)]}).build()},(g||(g=e.InternalServiceUpdateBundle||(e.InternalServiceUpdateBundle={}))).actionCreator=function(e){var n="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("PUT",n).queryParams({}).data(e.body).config({rules:[new H.ValidateRule(a.Response,"Response",200)]}).build()},function(e){var n=z.b();e.actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("DELETE",t).queryParams({}).config({rules:[new H.ValidateRule(n,"unknown",200)]}).build()}}(v||(v=e.InternalServiceDeleteBundle||(e.InternalServiceDeleteBundle={}))),function(e){var n=z.a(a.Application);e.actionCreator=function(e){var t="./bundles/{bundleId}/applications".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new H.ValidateRule(n,"unknown",200)]}).build()}}(y||(y=e.InternalServiceGetApplications||(e.InternalServiceGetApplications={}))),O=f||(f=e.EmailEndpointMigrationServiceMigrateEmailEndpoint||(e.EmailEndpointMigrationServiceMigrateEmailEndpoint={})),z.g(),O.actionCreator=function(e){var n={};return void 0!==e.confirmationToken&&(n["confirmation-token"]=e.confirmationToken),Object(l.actionBuilder)("GET","./email_endpoint/migrate").queryParams(n).config({rules:[new H.ValidateRule(a.MigrationReport,"MigrationReport",200)]}).build()},(h||(h=e.InternalServiceCreateEventType||(e.InternalServiceCreateEventType={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./eventTypes").queryParams({}).data(e.body).config({rules:[new H.ValidateRule(a.EventType,"EventType",200)]}).build()},function(e){var n=z.b();e.actionCreator=function(e){var t="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",t).queryParams({}).config({rules:[new H.ValidateRule(n,"unknown",200)]}).build()}}(x||(x=e.InternalServiceDeleteEventType||(e.InternalServiceDeleteEventType={}))),function(e){var n=z.i();e.actionCreator=function(e){return Object(l.actionBuilder)("PUT","./status").queryParams({}).data(e.body).config({rules:[new H.ValidateRule(n,"unknown",200)]}).build()}}(S||(S=e.InternalServiceSetCurrentStatus||(e.InternalServiceSetCurrentStatus={}))),function(e){var n=z.e({body:z.g().optional().nullable(),subject:z.g().optional().nullable()}).nonstrict(),t=z.e({message:z.g().optional().nullable()}).nonstrict();e.actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/render").queryParams({}).data(e.body).config({rules:[new H.ValidateRule(n,"unknown",200),new H.ValidateRule(t,"unknown",400)]}).build()}}(I||(I=e.InternalServiceRenderEmailTemplate||(e.InternalServiceRenderEmailTemplate={})))}(i||(i={}));var J=function(e){return i.InternalServiceCreateEventType.actionCreator({body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}})},K=t(221),Q=Object(H.validationResponseTransformer)((function(e){if(200===e.status){var n,t={id:null!==(n=e.value.id)&&void 0!==n?n:"",displayName:e.value.display_name};return Object(H.validatedResponse)("Application",200,t,e.errors)}return e})),W=t(12),Y=t.n(W),X=t(7),Z=t(362),$=t(363),ee=function(){var e=Object(d.useClient)(),n=Object(o.useState)([]),t=Object(p.a)(n,2),a=t[0],l=t[1],r=Object(o.useState)(),c=Object(p.a)(r,2),u=c[0],s=c[1],b=Object(o.useCallback)(Object(Z.a)(Y.a.mark((function n(){var t,a,o,r,c,u,d,p,b,j;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.query,s(!0),n.next=4,a(i.InternalServiceGetBundles.actionCreator());case 4:if(o=n.sent,200!==(null===(t=o.payload)||void 0===t?void 0:t.status)){n.next=15;break}r=o.payload.value.map((function(e){var n;return{id:null!==(n=e.id)&&void 0!==n?n:"",displayName:e.display_name,applications:[]}})),c=[],u=Object(X.a)(o.payload.value);try{for(u.s();!(d=u.n()).done;)(p=d.value).id&&c.push(a(i.InternalServiceGetApplications.actionCreator({bundleId:p.id})))}catch(m){u.e(m)}finally{u.f()}return n.next=12,Promise.all(c);case 12:b=n.sent,j=b.map((function(e){return e.payload})).reduce((function(e,n){return Object($.a)(e,(function(e){if(200===(null===n||void 0===n?void 0:n.status)){var t=e.find((function(e){return e.id===n.value[0].bundle_id}));t&&(t.applications=n.value.map((function(e){var n;return{id:null!==(n=e.id)&&void 0!==n?n:"",displayName:e.display_name}})))}}))}),r),l(j);case 15:s(!1);case 16:case"end":return n.stop()}}),n)}))),[e.query]);return Object(o.useEffect)((function(){b()}),[b]),{bundles:a,isLoading:u}},ne=Object(H.validationResponseTransformer)((function(e){if(200===e.status){var n=e.value.map((function(e){var n,t;return{id:null!==(n=e.id)&&void 0!==n?n:"",name:e.name,displayName:e.display_name,description:null!==(t=e.description)&&void 0!==t?t:"",applicationId:e.application_id}}));return Object(H.validatedResponse)("EventTypes",200,n,e.errors)}return e})),te=t(607),ae=t(608),ie=t(627),le=t(609),oe=t(610),re=t(611),ce=function(e){return i.InternalServiceRenderEmailTemplate.actionCreator({body:{subject_template:e.subject,body_template:e.body,payload:e.payload}})},ue="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),de='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),se=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),pe=function(e){return e.isLoading?Object(I.jsx)(v.a,{}):e.succeeded?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(te.a,{children:Object(I.jsxs)("span",{children:[Object(I.jsx)("strong",{children:"Subject:"})," ",e.subject]})}),Object(I.jsx)(te.a,{children:Object(I.jsx)("strong",{children:"Body:"})}),Object(I.jsx)(te.a,{children:Object(I.jsx)("iframe",{width:"100%",srcDoc:e.body})})]}):Object(I.jsx)(te.a,{children:Object(I.jsx)(ae.a,{children:Object(I.jsx)(ie.a,{variant:"error",children:e.error})})})},be=function(e){return"/application/".concat(e)},je=function(){return"/aggregation"},me=function(){return"/email"},ge=[{path:je(),component:function(){var e=o.useCallback((function(e,n){e.layout(),e.focus(),n.editor.getModels()[0].updateOptions({tabSize:5})}),[]),n=o.useCallback((function(e){}),[]),t=Object(o.useMemo)((function(){return[Object(I.jsx)(O.a,{icon:Object(I.jsx)(S.a,{}),toolTipText:"Test aggregation",onClick:function(){return console.log("testing")},isVisible:!0},"test")]}),[]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(g.a,{children:Object(I.jsx)(x.a,{headingLevel:"h1",children:"Aggregation templates"})}),Object(I.jsx)(g.a,{children:Object(I.jsx)(h.a,{isDownloadEnabled:!0,isUploadEnabled:!0,customControls:t,isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isMinimapVisible:!1,language:h.b.javascript,onEditorDidMount:e,onChange:n,code:T,height:"300px"})})]})}},{path:be(":applicationId"),component:function(){var e,n,t,a=Object(f.g)().applicationId,l=function(e){var n=Object(d.useQuery)(i.InternalServiceGetEventTypes.actionCreator({appId:e})),t=Object(o.useMemo)((function(){var e=n.payload;if(e)return ne(e)}),[n.payload]);return Object(o.useMemo)((function(){return Object(K.a)(Object(K.a)({},n),{},{payload:t})}),[n,t])}(a),r=function(e){var n=Object(d.useQuery)(i.InternalServiceGetApplication.actionCreator({appId:e})),t=Object(o.useMemo)((function(){var e=n.payload;if(e)return Q(e)}),[n.payload]);return Object(o.useMemo)((function(){return Object(K.a)(Object(K.a)({},n),{},{payload:t})}),[n,t])}(a),c=ee(),u=Object(d.useMutation)(J),s=o.useState(),b=Object(p.a)(s,1)[0],j=o.useState(),m=Object(p.a)(j,2),y=m[0],O=m[1],h=o.useState(),S=Object(p.a)(h,2),T=S[0],H=S[1],z=o.useState(),W=Object(p.a)(z,2),Y=W[0],X=W[1],Z=Object(o.useState)(!1),$=Object(p.a)(Z,2),te=$[0],ae=$[1],ie=function(){return ae(!te)},le=o.useCallback((function(){(0,u.mutate)({id:null!==b&&void 0!==b?b:"",applicationId:a,displayName:null!==y&&void 0!==y?y:"",name:null!==T&&void 0!==T?T:"",description:null!==Y&&void 0!==Y?Y:""})}),[u.mutate,b,a,y,T,Y]);return l.loading?Object(I.jsx)(v.a,{}):200!==(null===(e=l.payload)||void 0===e?void 0:e.status)?Object(I.jsxs)("span",{children:["Error while loading eventtypes: ",l.errorObject.toString()]}):0===l.payload.value.length?Object(I.jsx)("span",{children:"No event types found for this application"}):Object(I.jsx)(o.Fragment,{children:Object(I.jsxs)(g.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h1",children:Object(I.jsxs)(E.a,{children:[Object(I.jsxs)(C.a,{to:"#",children:[" ",c.isLoading?Object(I.jsx)(v.a,{}):c.bundles.map((function(e){return e.displayName}))," "]}),Object(I.jsxs)(C.a,{to:"#",isActive:!0,children:[" ",r.loading||200!==(null===(n=r.payload)||void 0===n?void 0:n.status)?Object(I.jsx)(v.a,{}):r.payload.value.displayName," "]})]})}),Object(I.jsxs)(V.a,{"aria-label":"Event types table",children:[Object(I.jsxs)(G.a,{children:[Object(I.jsx)(R.a,{children:Object(I.jsx)(_.a,{children:Object(I.jsxs)(w.a,{children:[Object(I.jsx)(A.a,{variant:"primary",type:"button",onClick:ie,children:" Create Event Type "}),Object(I.jsxs)(k.a,{variant:k.b.medium,title:"Create Event Type for ".concat(r.loading||200!==(null===(t=r.payload)||void 0===t?void 0:t.status)?Object(I.jsx)(v.a,{}):r.payload.value.displayName),isOpen:te,onClose:ie,children:[Object(I.jsxs)(B.a,{isHorizontal:!0,children:[Object(I.jsx)(P.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(I.jsx)(N.a,{type:"text",value:T,onChange:H,id:"name"})}),Object(I.jsx)(P.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(I.jsx)(N.a,{type:"text",value:y,onChange:O,id:"display-name"})}),Object(I.jsx)(P.a,{label:"Description",fieldId:"description",helperText:"Optional short description that appears in the UI to help admin descide how to notify users.",children:Object(I.jsx)(L.a,{type:"text",onChange:X,id:"description"})}),Object(I.jsxs)(M.a,{children:[Object(I.jsx)(A.a,{variant:"primary",type:"submit",isDisabled:!T||!y,onClick:le,children:"Submit"}),Object(I.jsx)(A.a,{variant:"link",onClick:ie,children:"Cancel"})]})]}),Object(I.jsx)(I.Fragment,{})]})]})})}),Object(I.jsx)(q.a,{children:["Event Type","Name","Description","Event Type Id"].map((function(e,n){return Object(I.jsx)(D.a,{children:e},n)}))})]}),Object(I.jsx)(U.a,{children:l.payload.value.map((function(e){return Object(I.jsxs)(q.a,{children:[Object(I.jsx)(F.a,{children:e.displayName}),Object(I.jsx)(F.a,{children:e.name}),Object(I.jsx)(F.a,{children:e.description}),Object(I.jsx)(F.a,{children:e.id})]},e.id)}))})]})]})})}},{path:me(),component:function(){var e,n,t,a=Object(d.useMutation)(ce),i=o.useState(ue),l=Object(p.a)(i,2),r=l[0],c=l[1],u=o.useState(de),s=Object(p.a)(u,2),b=s[0],j=s[1],m=o.useState(se),v=Object(p.a)(m,2),y=v[0],f=v[1];if(o.useEffect((function(){(0,a.mutate)({subject:null!==r&&void 0!==r?r:"",body:null!==b&&void 0!==b?b:"",payload:null!==y&&void 0!==y?y:""})}),[]),a.loading)t={isLoading:!0};else if(200===(null===(e=a.payload)||void 0===e?void 0:e.status)){var O,S;t={isLoading:!1,succeeded:!0,subject:null!==(O=a.payload.value.subject)&&void 0!==O?O:"",body:null!==(S=a.payload.value.body)&&void 0!==S?S:""}}else if(400===(null===(n=a.payload)||void 0===n?void 0:n.status)){var T;t={isLoading:!1,succeeded:!1,error:null!==(T=a.payload.value.message)&&void 0!==T?T:"Unknown error"}}else t={isLoading:!1,succeeded:!1,error:"Unknown error"};var E=o.useCallback((function(){(0,a.mutate)({subject:null!==r&&void 0!==r?r:"",body:null!==b&&void 0!==b?b:"",payload:null!==y&&void 0!==y?y:""})}),[a.mutate,r,b,y]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(g.a,{children:Object(I.jsxs)(le.a,{children:[Object(I.jsx)(oe.a,{isFilled:!0,children:Object(I.jsx)(x.a,{headingLevel:"h1",children:"Email templates"})}),Object(I.jsx)(oe.a,{children:Object(I.jsx)(A.a,{onClick:E,children:"Render"})})]})}),Object(I.jsx)(g.a,{children:Object(I.jsxs)(re.a,{children:[Object(I.jsx)(te.a,{children:Object(I.jsx)(x.a,{headingLevel:"h2",children:"Result"})}),Object(I.jsx)(pe,Object(K.a)({},t))]})}),Object(I.jsxs)(g.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(I.jsx)(h.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:ue,height:"50px",onChange:c})]}),Object(I.jsxs)(g.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(I.jsx)(h.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:de,height:"300px",onChange:j})]}),Object(I.jsxs)(g.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(I.jsx)(h.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:se,height:"300px",isLanguageLabelVisible:!0,language:h.b.json,onChange:f})]})]})}}],ve=function(e){return Object(I.jsxs)(f.d,{children:[ge.map((function(e){return Object(I.jsx)(f.b,{component:e.component,path:e.path},e.path)})),Object(I.jsx)(f.a,{to:je()})]})},ye=t(612),fe=t(222),Oe=t(628),he=t(613),xe=t(614),Se=t(615),Ie=function(e){var n=Object(f.h)({path:e.to,exact:!0});return Object(I.jsx)(ye.a,{isActive:!!n,children:Object(I.jsx)(s.b,{to:e.to,children:e.children})})},Te=function(e){return Object(I.jsx)(fe.a,{children:Object(I.jsxs)(Oe.a,{children:[Object(I.jsx)(he.a,{title:"Bundles",children:e.bundles.map((function(e){return Object(I.jsx)(xe.a,{title:e.displayName,children:e.applications.map((function(e){return Object(I.jsx)(Ie,{to:be(e.id),children:e.displayName},e.id)}))},e.id)}))}),Object(I.jsx)(Se.a,{}),Object(I.jsx)(Ie,{to:me(),children:"Email templates"}),Object(I.jsx)(Ie,{to:je(),children:"Aggregation"})]})})},Ee=t.p+"static/media/redhat-logo.f7405300.svg",Ce=function(){var e=r.a.useState(!0),n=Object(p.a)(e,2),t=n[0],a=n[1],i=r.a.useCallback((function(){return a((function(e){return!e}))}),[a]),l=ee(),o=Object(I.jsx)(b.a,{showNavToggle:!0,logo:Object(I.jsx)(j.a,{width:"150px",src:Ee,alt:"Red Hat"}),logoProps:{href:"/internal"},isNavOpen:t,onNavToggle:i});if(l.isLoading)return Object(I.jsx)(m.a,{header:o,children:Object(I.jsx)(g.a,{children:Object(I.jsx)(v.a,{})})});var c=Object(I.jsx)(y.a,{nav:Object(I.jsx)(Te,{bundles:l.bundles}),isNavOpen:t});return Object(I.jsx)(m.a,{sidebar:c,header:o,children:Object(I.jsx)(ve,{})})},Re=Object(d.createClient)({responseInterceptors:[l.validateSchemaResponseInterceptor]});u.a.render(Object(I.jsx)(o.StrictMode,{children:Object(I.jsx)(s.a,{children:Object(I.jsx)(d.ClientContextProvider,{client:Re,children:Object(I.jsx)(Ce,{})})})}),document.getElementById("root"))}},[[571,1,2]]]);
//# sourceMappingURL=main.500a16b6.chunk.js.map